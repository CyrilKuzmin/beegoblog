<link rel="stylesheet" type="text/css" href="/static/css/ckeditor.css">

<div class="container-fluid text-center">    
  <div class="row content">
    <div class="col-sm-12 text-left"> 
      <h1>Добавление нового поста</h1>
      <hr>
      <form role="form" method="POST" action="/savepost">
      <div class="col-sm-12">
            <input type="hidden" name="id" value="{{.Post.PostID}}"/>
            <div class="form-group">
                <label>Заголовок</label>
                <input type="text" class="form-control" id="title" name="title" value="{{.Post.Title}}" required/>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-success">Отправить</button>
              {{ if .Post.PostID }}
              {{ end }}
              {{ if .Post.PostID }}
              <a href="/delete?id={{.Post.PostID}}" class="btn btn-danger"  onclick="return confirmRemoval();">Удалить</a>
              {{ end }}
            </div>
            <div class="form-group">
                <label>Содержимое</label>
                <textarea class="form-control" id="editor" name="editor"  rows="10" >{{.Post.ContentHTML}}</textarea>
            </div>
        </div>
      </form>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="/static/js/confirm.js"></script>
<script type="text/javascript" src="/static/js/ckeditor.js"></script>
<script>ClassicEditor
			.create( document.querySelector( '#editor' ), {
				
				toolbar: {
					items: [
						'heading',
						'|',
						'fontSize',
						'bold',
						'fontColor',
						'|',
						'fontBackgroundColor',
						'italic',
						'underline',
						'strikethrough',
						'code',
						'codeBlock',
						'|',
						'alignment',
						'indent',
						'outdent',
						'bulletedList',
						'numberedList',
						'|',
						'link',
						'imageUpload',
						'blockQuote',
						'insertTable',
						'mediaEmbed',
						'horizontalLine',
						'|',
						'undo',
						'redo'
					]
				},
				language: 'ru',
				image: {
					toolbar: [
						'imageTextAlternative',
						'imageStyle:full',
						'imageStyle:side'
					]
				},
				table: {
					contentToolbar: [
						'tableColumn',
						'tableRow',
						'mergeTableCells',
						'tableCellProperties',
						'tableProperties'
					]
				},
				licenseKey: '',
				
			} )
			.then( editor => {
				window.editor = editor;

			} )
			.catch( error => {
				console.error( 'Oops, something gone wrong!' );
				console.error( 'Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:' );
				console.warn( 'Build id: g131lumz2fou-rlwgf3su13rt' );
				console.error( error );
			} );
</script>
                